"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[647],{5647:function(e,l,o){o.r(l),o.d(l,{default:function(){return p}});var a=o(3396);const r={class:"page_content"},t={class:"flex"};function m(e,l,o,m,u,d){const i=(0,a.up)("el-breadcrumb-item"),s=(0,a.up)("el-breadcrumb"),n=(0,a.up)("el-button"),p=(0,a.up)("el-table-column"),c=(0,a.up)("el-table"),f=(0,a.up)("el-input"),w=(0,a.up)("el-form-item"),b=(0,a.up)("el-form"),D=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(s,{"separator-icon":e.ArrowRight},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{to:{path:"/"}},{default:(0,a.w5)((()=>[(0,a.Uk)("首页")])),_:1}),(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Uk)("角色列表")])),_:1})])),_:1},8,["separator-icon"]),(0,a._)("div",r,[(0,a.Wm)(n,{type:"primary",onClick:l[0]||(l[0]=l=>e.dialogFormVisible=!0)},{default:(0,a.w5)((()=>[(0,a.Uk)("新建角色")])),_:1}),(0,a.Wm)(c,{data:e.rolesList,style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{prop:"roleName",label:"角色名"}),(0,a.Wm)(p,{prop:"roleDesc",label:"角色描述"}),(0,a.Wm)(p,null,{default:(0,a.w5)((e=>[(0,a.Wm)(n,{type:"primary",onClick:l=>m.editRow(e.row)},{default:(0,a.w5)((()=>[(0,a.Uk)("编辑")])),_:2},1032,["onClick"]),(0,a.Wm)(n,{type:"danger",onClick:l=>m.deleteRow(e.row)},{default:(0,a.w5)((()=>[(0,a.Uk)("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])]),(0,a.Wm)(D,{modelValue:e.dialogFormVisible,"onUpdate:modelValue":l[4]||(l[4]=l=>e.dialogFormVisible=l),onClose:m.clearForm,title:e.formData.id?"编辑角色":"新建角色"},{footer:(0,a.w5)((()=>[(0,a._)("div",t,[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Uk)("取消")])),_:1}),(0,a.Wm)(n,{type:"primary",onClick:l[3]||(l[3]=e=>m.submitForm(m.userForm))},{default:(0,a.w5)((()=>[(0,a.Uk)("确定")])),_:1})])])),default:(0,a.w5)((()=>[(0,a.Wm)(b,{ref:"userForm",model:e.formData,rules:e.rules},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{label:"角色名称",prop:"roleName"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{modelValue:e.formData.roleName,"onUpdate:modelValue":l[1]||(l[1]=l=>e.formData.roleName=l),placeholder:"请输入角色名称"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(w,{label:"角色描述",prop:"roleDesc"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{modelValue:e.formData.roleDesc,"onUpdate:modelValue":l[2]||(l[2]=l=>e.formData.roleDesc=l),placeholder:"请输入角色描述"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","onClose","title"])])}var u=o(4870),d=o(9818),i={name:"roles",setup(){const e=(0,u.qj)({rolesList:[],dialogFormVisible:!1,formData:{roleName:"",roleDesc:""},rules:{roleName:{required:!0,message:"此项必填",trigger:"blur"}}}),l=()=>{(0,d.G_)().then((l=>{e.rolesList=l.data}))},o=o=>{o.validate((o=>{o&&(e.formData.id?(0,d.uE)(e.formData).then((o=>{o.data&&(e.dialogFormVisible=!1,l())})):(0,d.wV)(e.formData).then((o=>{o.data&&(e.dialogFormVisible=!1,l())})))}))},a=l=>{e.dialogFormVisible=!0;const{roleName:o,roleDesc:a,id:r}=l;e.formData={id:r,roleName:o,roleDesc:a}},r=e=>{(0,d.KW)(e).then((e=>{l()}))},t=()=>{e.formData={roleName:"",roleDesc:""}};l();const m=(0,u.iH)();return{...(0,u.BK)(e),editRow:a,deleteRow:r,userForm:m,submitForm:o,clearForm:t}}},s=o(89);const n=(0,s.Z)(i,[["render",m]]);var p=n}}]);
//# sourceMappingURL=647.6760dbeb.js.map