{"version":3,"file":"js/856.ca11ed8a.js","mappings":"0KACSA,MAAM,c,GACFA,MAAM,a,gJADfC,EAAAA,EAAAA,IA2BM,MA3BNC,EA2BM,EA1BFC,EAAAA,EAAAA,GAyBM,MAzBNC,EAyBM,EAvBFC,EAAAA,EAAAA,IAoBUC,EAAA,CApBDC,IAAI,UAAWC,MAAOC,EAAAC,UAAW,cAAY,QAAQV,MAAM,gB,mBAChE,IAQe,EARfK,EAAAA,EAAAA,IAQeM,EAAA,CARDC,KAAK,WAAWC,MAAM,MAAOC,MAAO,CAAC,C,kEAO/C,IAAyC,EAAzCT,EAAAA,EAAAA,IAAyCU,EAAA,C,WAAtBN,EAAAC,UAAUM,S,qCAAVP,EAAAC,UAAUM,SAAQC,I,iCAGzCZ,EAAAA,EAAAA,IAQeM,EAAA,CARDC,KAAK,WAAWC,MAAM,KAAMC,MAAO,CAAC,C,kEAO9C,IAAyD,EAAzDT,EAAAA,EAAAA,IAAyDU,EAAA,CAA/CG,KAAK,W,WAAoBT,EAAAC,UAAUS,S,qCAAVV,EAAAC,UAAUS,SAAQF,I,sDAG7DZ,EAAAA,EAAAA,IAA+Ee,EAAA,CAApEF,KAAK,UAAUlB,MAAM,YAAaqB,QAAOC,EAAAC,a,mBAAa,IAAE,UAAF,S,0EAU7E,GACIC,KAAM,QACNC,QACI,MAAMC,GAAQC,EAAAA,EAAAA,MACRC,GAASC,EAAAA,EAAAA,MACTC,EAAQJ,EAAMK,MAAMC,OAAOF,MAC3BG,GAAOC,EAAAA,EAAAA,IAAS,CAClBxB,UAAW,CACPM,SAAU,GACVG,SAAU,IAEdgB,IAAKL,IAGHP,EAAcA,KAChBa,QAAQC,IAAIJ,IAGZK,EAAAA,EAAAA,IAASL,EAAKvB,WAAW6B,MAAKC,IACtBA,EAAIP,OACJP,EAAMe,OAAO,cAAeD,EAAIP,MAChCS,aAAaC,QAAQ,YAAaC,KAAKC,UAAUL,EAAIP,OAErDL,EAAOkB,KAAK,CACRC,KAAM,MAEd,GACF,EAgBN,MAAO,KACAC,EAAAA,EAAAA,IAAOf,GACVV,cAER,G,QC3EJ,MAAM0B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://shop/./src/views/pages/login.vue","webpack://shop/./src/views/pages/login.vue?f679"],"sourcesContent":["<template>\r\n    <div class=\"login_wrap\">\r\n        <div class=\"form_wrap\">\r\n\r\n            <el-form ref=\"formRef\" :model=\"loginData\" label-width=\"100px\" class=\"demo-dynamic\">\r\n                <el-form-item prop=\"username\" label=\"用户名\" :rules=\"[\r\n                    {\r\n                        required: true,\r\n                        message: '此项为必填项',\r\n                        trigger: 'blur',\r\n                    },\r\n                ]\">\r\n                    <el-input v-model=\"loginData.username\" />\r\n                </el-form-item>\r\n\r\n                <el-form-item prop=\"password\" label=\"密码\" :rules=\"[\r\n                    {\r\n                        required: true,\r\n                        message: '此项为必填项',\r\n                        trigger: 'blur',\r\n                    },\r\n                ]\">\r\n                    <el-input type=\"password\" v-model=\"loginData.password\" />\r\n                </el-form-item>\r\n            </el-form>\r\n            <el-button type=\"primary\" class=\"login_btn\" @click=\"handleLogin\">登录</el-button>\r\n            <!-- <p>{{num}}</p> -->\r\n        </div>\r\n    </div>\r\n</template>    \r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nimport { useStore } from \"vuex\"\r\nimport { useRouter } from \"vue-router\"\r\nimport { loginApi } from \"@/util/request\"\r\nexport default {\r\n    name: \"login\",\r\n    setup() {\r\n        const store = useStore()\r\n        const router = useRouter()\r\n        const count = store.state.number.count\r\n        const data = reactive({\r\n            loginData: {\r\n                username: \"\",\r\n                password: \"\"\r\n            },\r\n            num: count,\r\n\r\n        })\r\n        const handleLogin = () => {\r\n            console.log(data);\r\n            // 请求后台接口\r\n            // 默认用户：admin/123456\r\n            loginApi(data.loginData).then(res => {\r\n                if (res.data) {\r\n                    store.commit('setUserInfo', res.data);\r\n                    localStorage.setItem(\"loginData\", JSON.stringify(res.data))\r\n                    // 跳转/user\r\n                    router.push({\r\n                        path: \"/\"\r\n                    })\r\n                }\r\n            })\r\n        }\r\n\r\n\r\n        // vuex更改语法\r\n        // console.log(\"修改前getters\",store.getters[\"number/countStatus\"])\r\n        // const handleLogin=()=>{\r\n        //     // store.commit('number/setCount', 100);\r\n        //     store.dispatch('number/setCountPromise', 10).then(res=>{\r\n        //         alert(\"修改成功\")\r\n        //     }).catch(err=>{\r\n        //         alert(err)\r\n        //     });\r\n        //     console.log(store.state.number.count)\r\n        //     console.log(\"修改后getters\",store.getters[\"number/countStatus\"])\r\n        // }\r\n        return {\r\n            ...toRefs(data),\r\n            handleLogin\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style  scoped>\r\n.login_wrap {\r\n    width: 100%;\r\n    height: 100vh;\r\n    background: rgb(56, 86, 139);\r\n    position: relative;\r\n}\r\n\r\n.form_wrap {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    background: #fff;\r\n    padding: 30px 50px;\r\n    border-radius: 5px;\r\n}\r\n\r\n.login_btn {\r\n    display: block;\r\n    margin: 10px auto;\r\n}\r\n</style>","import { render } from \"./login.vue?vue&type=template&id=eb827ef2&scoped=true\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\n\nimport \"./login.vue?vue&type=style&index=0&id=eb827ef2&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Learn\\\\Vue3.0\\\\code\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-eb827ef2\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_el_form","ref","model","_ctx","loginData","_component_el_form_item","prop","label","rules","_component_el_input","username","$event","type","password","_component_el_button","onClick","$setup","handleLogin","name","setup","store","useStore","router","useRouter","count","state","number","data","reactive","num","console","log","loginApi","then","res","commit","localStorage","setItem","JSON","stringify","push","path","toRefs","__exports__","render"],"sourceRoot":""}